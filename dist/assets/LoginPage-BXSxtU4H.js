import{d as f,u as _,r as i,o as k,c as p,a as o,w as y,b as d,v as c,t as w,e as b,f as h,g as x,h as C,i as V,j as m,k as S,R as N}from"./index-LmVmsa4I.js";const T={class:"login"},B={class:"login-card"},E={class:"input-group"},M={class:"input-group"},R={key:0,class:"error-message"},D={class:"footer-links"},W=f({__name:"LoginPage",setup(L){const u=C(),s=_(),n=i(""),a=i(""),r=i("");k(async()=>{s.getToken!=null&&u.push("/main")});async function v(){try{const t=new N("https://dotflopp.ru/api"),{token:e}=await t.login({email:n.value,password:a.value});s.login(),s.setToken(e),u.push("/main")}catch(t){console.error(t),r.value="Неверный email или пароль"}}return(t,e)=>{const g=V("router-link");return m(),p("div",T,[o("div",B,[e[4]||(e[4]=o("h2",null,"Welcome back!",-1)),e[5]||(e[5]=o("p",null,"We're so excited to see you again!",-1)),o("form",{onSubmit:y(v,["prevent"]),class:"login-form"},[o("div",E,[d(o("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l),type:"text",placeholder:"Enter your email"},null,512),[[c,n.value]])]),o("div",M,[d(o("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>a.value=l),type:"password",placeholder:"Enter your password"},null,512),[[c,a.value]])]),e[2]||(e[2]=o("button",{type:"submit",class:"login-button"},"Login",-1)),r.value?(m(),p("p",R,w(r.value),1)):b("",!0)],32),o("div",D,[h(g,{to:"/signup"},{default:x(()=>e[3]||(e[3]=[S("Create an account")])),_:1})])])])}}});export{W as default};
