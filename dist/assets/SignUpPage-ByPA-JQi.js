import{d as b,u as x,r as n,l as y,c as m,a as t,w as E,b as l,v as u,n as w,t as h,e as k,f as U,g as N,i as q,h as P,j as g,k as T,R as A}from"./index-B1-YJayX.js";const B={class:"register"},D={class:"register-card"},L={class:"input-group"},R={class:"input-group"},j={key:0,class:"field-error"},M={key:0,class:"field-error"},z={class:"footer-links"},$=b({__name:"SignUpPage",setup(J){const _=P(),f=x(),i=n(""),d=n(""),s=n(""),a=n(""),C=n("");function S(o){const v=/\d/.test(o),r=/[!@#$%^&*(),.?":{}|<>]/.test(o);return o.length>=8&&v&&r}const p=y(()=>s.value?S(s.value)?"":"Weak password":""),c=y(()=>a.value?s.value===a.value?"":"The passwords do not match":"");async function V(){try{const o=new A("https://dotflopp.ru/api"),{token:e}=await o.register({identityName:i.value,email:d.value,password:s.value});f.login(),f.setToken(e),_.push("/main")}catch{console.error(),C.value="Ошибка регистрации. Проверьте данные"}}return(o,e)=>{const v=q("router-link");return g(),m("div",B,[t("div",D,[e[6]||(e[6]=t("h2",null,"Create an Account",-1)),e[7]||(e[7]=t("p",null,"Join us and start your journey!",-1)),t("form",{onSubmit:E(V,["prevent"]),class:"register-form"},[t("div",L,[l(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>i.value=r),type:"text",placeholder:"Enter your username",required:""},null,512),[[u,i.value]])]),t("div",R,[l(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>d.value=r),type:"email",placeholder:"Enter your email",required:""},null,512),[[u,d.value]])]),t("div",{class:w(["input-group",{error:p.value}])},[l(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>s.value=r),type:"password",placeholder:"Enter your password",required:""},null,512),[[u,s.value]]),p.value?(g(),m("p",j,h(p.value),1)):k("",!0)],2),t("div",{class:w(["input-group",{error:c.value}])},[l(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>a.value=r),type:"password",placeholder:"Confirm your password",required:""},null,512),[[u,a.value]]),c.value?(g(),m("p",M,h(c.value),1)):k("",!0)],2),e[4]||(e[4]=t("button",{type:"submit",class:"register-button"},"Sign Up",-1))],32),t("div",z,[U(v,{to:"/login"},{default:N(()=>e[5]||(e[5]=[T("Already have an account? Log in")])),_:1})])])])}}});export{$ as default};
