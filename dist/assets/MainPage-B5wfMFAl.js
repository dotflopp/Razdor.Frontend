import{d as w,j as n,q as U,g as V,c as l,f as v,a as e,t as p,s as Y,T as K,w as A,e as I,l as m,n as P,u as L,r as f,b as B,x as G,k as E,p as J,F as x,y as ee,z,A as H,v as N,R as O,i as te,o as Q,B as se,C as ne,D as oe,E as ae}from"./index-TFnnZpYf.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{A as R,f as le,a as ie}from"./formatedTime-DRjE8897.js";import{a as re,_ as ce}from"./phone-XeyzPViJ.js";const ue={class:"modal-content"},de={class:"modal-header"},ve={class:"modal-body"},_e=w({__name:"ModalWindow",props:{show:{type:Boolean},title:{}},emits:["close"],setup(_,{emit:t}){const s=t;function a(){s("close")}return(i,r)=>(n(),U(K,{name:"fade"},{default:V(()=>[i.show?(n(),l("div",{key:0,class:"modal-overlay",onClick:A(a,["self"])},[v(K,{name:"slide"},{default:V(()=>[e("div",ue,[e("div",de,[e("h2",null,p(i.title),1),e("button",{onClick:a,class:"close-btn"},"Ã—")]),e("div",ve,[Y(i.$slots,"default",{},void 0,!0)])])]),_:3})])):I("",!0)]),_:3}))}}),F=k(_e,[["__scopeId","data-v-1b0bf03f"]]),me={class:"avatar-container"},pe=w({__name:"AvatarWithStatus",props:{avatar:{},name:{},status:{}},setup(_){const t=_,s=m(()=>t.avatar),a=m(()=>t.name),i=m(()=>t.status);return(r,c)=>(n(),l("div",me,[v(R,{name:a.value,avatar:s.value,class:"profile-avatar"},null,8,["name","avatar"]),e("span",{class:P(["status-dot",[i.value==="Online"?"online":i.value==="DoNotDisturb"?"dnd":"invisible"]])},null,2)]))}}),j=k(pe,[["__scopeId","data-v-b56f0ac9"]]),fe={class:"user-profile-top"},he={class:"user-info-top"},Ce={class:"avatar"},ge={class:"user-names"},$e={class:"status-section"},ye={class:"user-info"},we={key:0},be=w({__name:"UserProfile",setup(_){const t=L(),s=m(()=>t.currentUser),a=f(t.currentUser.selectedStatus);function i(){a.value&&t.setStatus(a.value)}return(r,c)=>(n(),l("div",fe,[e("div",he,[e("div",Ce,[v(j,{avatar:s.value.avatar,name:s.value.identityName,status:s.value.selectedStatus},null,8,["avatar","name","status"])]),e("div",ge,[e("h2",null,p(s.value.nickname)+" @"+p(s.value.identityName),1),e("div",$e,[B(e("select",{"onUpdate:modelValue":c[0]||(c[0]=d=>a.value=d),onChange:c[1]||(c[1]=d=>i()),class:"status-select"},c[2]||(c[2]=[e("option",{value:"Online"},"Online",-1),e("option",{value:"DoNotDisturb"},"Don't disturb",-1),e("option",{value:"Invisible"},"Invisible",-1)]),544),[[G,a.value]])])])]),e("div",ye,[e("p",null,[c[3]||(c[3]=e("strong",null,"Last change:",-1)),E(" "+p(J(le)(s.value.credentialsChangeDate)),1)]),e("p",null,[c[4]||(c[4]=e("strong",null,"Email:",-1)),E(" "+p(s.value.email),1)]),s.value.description?(n(),l("p",we,[c[5]||(c[5]=e("strong",null,"About",-1)),E(" "+p(s.value.description),1)])):I("",!0)])]))}}),ke=k(be,[["__scopeId","data-v-234c5043"]]),Ie={};function Se(_,t){return null}const Me=k(Ie,[["render",Se]]),xe={class:"logout-section"},Ve=w({__name:"Logout",setup(_){const t=L();function s(){t.logout(),ee.push("/login")}return(a,i)=>(n(),l(x,null,[i[1]||(i[1]=e("p",null,[e("strong",null,"Do you want to log out of your account?")],-1)),e("div",null,[e("div",xe,[e("button",{class:"logout-button",onClick:i[0]||(i[0]=r=>s())},"Logout")])])],64))}}),Ue=k(Ve,[["__scopeId","data-v-12e857ec"]]),ze={class:"user-card"},Be={class:"settings-container"},Pe={class:"settings-menu"},Te=["onClick"],Ae={class:"content-container"},De={class:"settings-content"},Ne=w({__name:"UserView",setup(_){const t=L();m(()=>t.currentUser);const s=["Profile","Settings","Logout"],a=f(s[0]);function i(r){a.value=r}return(r,c)=>(n(),l("div",ze,[e("div",Be,[e("aside",Pe,[e("ul",null,[(n(),l(x,null,z(s,(d,u)=>e("li",{key:u},[e("button",{class:P({active:a.value===d}),onClick:h=>i(d)},p(d),11,Te)])),64))])])]),e("div",Ae,[e("main",De,[a.value==="Profile"?(n(),U(ke,{key:0})):a.value==="Settings"?(n(),U(Me,{key:1})):a.value==="Logout"?(n(),U(Ue,{key:2})):I("",!0)])])]))}}),Fe=k(Ne,[["__scopeId","data-v-327a5efd"]]),Le={class:"profile-widget"},He={class:"avatar"},We={class:"profile-info"},Ze={class:"username"},qe={class:"user-tag"},Ee=w({__name:"ProfileCard",setup(_){const t=L(),s=m(()=>t.currentUser.avatar),a=m(()=>t.currentUser.nickname),i=m(()=>t.currentUser.identityName),r=m(()=>t.currentUser.selectedStatus),c=f(!1);return(d,u)=>(n(),l("div",Le,[e("div",He,[v(j,{avatar:s.value,name:a.value,status:r.value},null,8,["avatar","name","status"])]),e("div",We,[e("div",Ze,p(a.value),1),e("div",qe,"@"+p(i.value),1)]),e("button",{class:"settings-button",onClick:u[0]||(u[0]=h=>c.value=!0)},u[2]||(u[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",class:"settings-icon"},[e("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.5-.03-.62.19l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.5.03.62-.19l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"})],-1)])),v(F,{show:c.value,title:"User Environment",onClose:u[1]||(u[1]=h=>c.value=!1)},{default:V(()=>[v(Fe)]),_:1},8,["show"])]))}}),Oe=k(Ee,[["__scopeId","data-v-77744551"]]),Re=["width","height"],je=["fill"],X=w({__name:"CreateIcon",props:{fillColor:{},size:{}},setup(_){return(t,s)=>(n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",width:t.size,height:t.size},[e("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z",fill:t.fillColor},null,8,je)],8,Re))}}),Ke={class:"sidebar-communities"},Ge={class:"community-list"},Je=["onClick"],Qe={class:"community-avatar"},Xe={class:"add-community-button"},Ye={key:0,class:"success-message"},et=w({__name:"CommunitySidebar",setup(_){const t=new O("https://dotflopp.ru/api"),s=H(),a=f(!1),i=f(""),r=f(""),c=m(()=>s.communities),d=m(()=>s.activeCommunityId);function u($){s.setActiveCommunity($)}async function h(){if(i.value.trim())try{const $=await t.createNewCommunities(i.value);s.addCommunity($),r.value="Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²Ð¾ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð¾!"}catch($){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²Ð°:",$),r.value="ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²Ð¾."}}return($,C)=>(n(),l("div",Ke,[e("ul",Ge,[(n(!0),l(x,null,z(c.value,y=>(n(),l("li",{key:y.id,class:P(["community-item",{active:y.id===d.value}]),onClick:T=>u(y.id)},[e("div",Qe,[y.avatar?I("",!0):(n(),U(R,{key:0,name:y.name,avatar:y.avatar},null,8,["name","avatar"]))])],10,Je))),128))]),e("div",Xe,[e("button",{class:"add-btn",onClick:C[0]||(C[0]=y=>a.value=!0)},[v(X,{fillColor:"white",size:"70%"})]),v(F,{show:a.value,title:"Creating Community",onClose:C[2]||(C[2]=y=>a.value=!1)},{default:V(()=>[e("form",{onSubmit:A(h,["prevent"]),class:"community-form"},[B(e("input",{id:"community-name","onUpdate:modelValue":C[1]||(C[1]=y=>i.value=y),type:"text",placeholder:"community name",required:""},null,512),[[N,i.value]]),r.value?(n(),l("p",Ye,p(r.value),1)):I("",!0),C[3]||(C[3]=e("button",{type:"submit",class:"create-button"},"Create",-1))],32)]),_:1},8,["show"])])]))}}),tt=k(et,[["__scopeId","data-v-fc60142f"]]),st={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},nt={"clip-path":"url(#clip0_2311_9433)"},ot=["fill"],at=w({__name:"PersonIcon",props:{fillColor:{}},setup(_){return(t,s)=>(n(),l("svg",st,[e("g",nt,[e("path",{d:"M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V19C4 19.55 4.45 20 5 20H19C19.55 20 20 19.55 20 19V18C20 15.34 14.67 14 12 14Z",fill:t.fillColor},null,8,ot)])]))}}),lt={key:0,class:"sidebar-content"},it={class:"current-communities"},rt={class:"community-card"},ct={class:"community-name"},ut={key:0,class:"message"},dt={class:"sidebar-channels"},vt={class:"channel-list"},_t=["onClick"],mt={class:"channel"},pt={class:"channel-name"},ft=["onClick"],ht={class:"add-channel-button"},Ct={class:"channel-type"},gt={class:"status-section"},$t={key:0,class:"message"},yt=w({__name:"ChannelSidebar",setup(_){const t=new O("https://dotflopp.ru/api"),s=H(),a=f(!1),i=f(""),r=f(""),c=f(!1),d=f(""),u=f("TextChannel"),h=f(""),$=m(()=>s.activeCommunityId),C=f("0"),y=m(()=>$.value?s.getCommunityById($.value):null),T=m(()=>s.channels),W=m(()=>s.activeChannelId);function Z(b){s.setActiveChannel(b)}async function q(){if(i.value.trim())try{const o=`https://dotflopp.ru/invite/${(await t.createInvitation(s.getactiveCommunityId,i.value)).id}`;await navigator.clipboard.writeText(o),r.value="Invitation copied to clipboard"}catch(b){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ñ:",b),r.value="ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ."}}async function S(){if(!(!d.value.trim()||u.value.length==0))try{const b={name:d.value,type:u.value,parentId:C.value},o=await t.createNewChannel($.value,b);console.log(o),s.addChannel(o),h.value="ÐšÐ°Ð½Ð°Ð» ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½!",C.value="0"}catch(b){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ ÐºÐ°Ð½Ð°Ð»Ð°:",b),h.value="ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ ÐºÐ°Ð½Ð°Ð»."}}function M(b){C.value=b}return(b,o)=>y.value?(n(),l("div",lt,[e("div",it,[e("div",rt,[e("div",ct,p(y.value.name),1),e("button",{class:"addPerson-btn",onClick:o[0]||(o[0]=g=>a.value=!0)},[v(at,{class:"addPerson",fillColor:"white"})]),v(F,{show:a.value,title:"Create Invitation",onClose:o[2]||(o[2]=g=>a.value=!1)},{default:V(()=>[e("form",{onSubmit:A(q,["prevent"]),class:"invitation-form"},[B(e("input",{id:"lifetime","onUpdate:modelValue":o[1]||(o[1]=g=>i.value=g),type:"text",placeholder:"Seconds",required:""},null,512),[[N,i.value]]),r.value?(n(),l("p",ut,p(r.value),1)):I("",!0),o[7]||(o[7]=e("button",{type:"submit",class:"create-button"},"Create Invitation",-1))],32)]),_:1},8,["show"])])]),e("div",dt,[e("ul",vt,[(n(!0),l(x,null,z(T.value,g=>(n(),l("li",{key:g.id,class:P(["channel-item",{active:g.id===W.value}]),onClick:D=>Z(g.id)},[e("div",mt,[e("div",pt,p(g.name),1),e("button",{class:"addChannel-btn-simple",onClick:D=>(c.value=!0,M(g.id))},[v(X,{fillColor:"white",size:"100%"})],8,ft)])],10,_t))),128))]),e("div",ht,[e("button",{class:"addChannel-btn",onClick:o[3]||(o[3]=g=>c.value=!0)},o[8]||(o[8]=[e("p",null,"create channel",-1)]))]),v(F,{show:c.value,title:"Create channel",onClose:o[6]||(o[6]=g=>c.value=!1)},{default:V(()=>[e("form",{onSubmit:A(S,["prevent"]),class:"invitation-form"},[B(e("input",{id:"channelName","onUpdate:modelValue":o[4]||(o[4]=g=>d.value=g),type:"text",placeholder:"channel name",required:""},null,512),[[N,d.value]]),e("div",Ct,[o[10]||(o[10]=e("p",null,"Channel type",-1)),e("div",gt,[B(e("select",{"onUpdate:modelValue":o[5]||(o[5]=g=>u.value=g),class:"channeltype-select"},o[9]||(o[9]=[e("option",{value:"TextChannel"},"TextChannel",-1),e("option",{value:"VoiceChannel"},"VoiceChannel",-1),e("option",{value:"CategoryChannel"},"CategoryChannel",-1)]),512),[[G,u.value]])])]),h.value?(n(),l("p",$t,p(h.value),1)):I("",!0),o[11]||(o[11]=e("button",{type:"submit",class:"create-button"},"Create Channel",-1))],32)]),_:1},8,["show"])])])):I("",!0)}}),wt=k(yt,[["__scopeId","data-v-19cc8aeb"]]),bt={},kt={class:"top-bar"},It={class:"call-icons"},St={class:"call-icon",id:"phone-btn"},Mt={class:"call-icon",id:"camera-btn"};function xt(_,t){const s=te("router-link");return n(),l("header",kt,[t[2]||(t[2]=e("div",{class:"server-name"},"Chat",-1)),e("div",It,[e("button",St,[v(s,{to:"/rooms"},{default:V(()=>t[0]||(t[0]=[e("img",{src:re},null,-1)])),_:1})]),e("button",Mt,[v(s,{to:"/rooms"},{default:V(()=>t[1]||(t[1]=[e("img",{src:ce},null,-1)])),_:1})])])])}const Vt=k(bt,[["render",xt],["__scopeId","data-v-75814ce4"]]),Ut=["width","height"],zt=["fill"],Bt=w({__name:"Ð¡lipIcon",props:{fillColor:{},size:{}},setup(_){return(t,s)=>(n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",width:t.size,height:t.size},[e("path",{d:"M16.5 6.75015V17.3301C16.5 19.4201 14.97 21.2801 12.89 21.4801C10.5 21.7101 8.5 19.8401 8.5 17.5001V5.14015C8.5 3.83015 9.44 2.64015 10.74 2.51015C12.24 2.36015 13.5 3.53015 13.5 5.00015V15.5001C13.5 16.0501 13.05 16.5001 12.5 16.5001C11.95 16.5001 11.5 16.0501 11.5 15.5001V6.75015C11.5 6.34015 11.16 6.00015 10.75 6.00015C10.34 6.00015 10 6.34015 10 6.75015V15.3601C10 16.6701 10.94 17.8601 12.24 17.9901C13.74 18.1401 15 16.9701 15 15.5001V5.17015C15 3.08015 13.47 1.22015 11.39 1.02015C9.01 0.790146 7 2.66015 7 5.00015V17.2701C7 20.1401 9.1 22.7101 11.96 22.9801C15.25 23.2801 18 20.7201 18 17.5001V6.75015C18 6.34015 17.66 6.00015 17.25 6.00015C16.84 6.00015 16.5 6.34015 16.5 6.75015Z",fill:t.fillColor},null,8,zt)],8,Ut))}}),Pt={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Tt={"clip-path":"url(#clip0_2311_5181)"},At=["fill"],Dt=w({__name:"DeleteIcon",props:{fillColor:{}},setup(_){return(t,s)=>(n(),l("svg",Pt,[e("g",Tt,[e("path",{d:"M6 19C6 20.1 6.9 21 8 21H16C17.1 21 18 20.1 18 19V9C18 7.9 17.1 7 16 7H8C6.9 7 6 7.9 6 9V19ZM18 4H15.5L14.79 3.29C14.61 3.11 14.35 3 14.09 3H9.91C9.65 3 9.39 3.11 9.21 3.29L8.5 4H6C5.45 4 5 4.45 5 5C5 5.55 5.45 6 6 6H18C18.55 6 19 5.55 19 5C19 4.45 18.55 4 18 4Z",fill:t.fillColor},null,8,At)])]))}}),Nt={key:0,class:"image-wrapper"},Ft=["src"],Lt={key:1,class:"file-icon"},Ht={class:"filename"},Wt=["onClick"],Zt=w({__name:"FilePreview",props:{files:{},direction:{},needCloseButton:{type:Boolean}},emits:["delete"],setup(_,{emit:t}){const s=_,a=t,i=m(()=>s.direction==="vertical");function r(u){return u.type.startsWith("image/")}function c(u){return URL.createObjectURL(u)}function d(u){a("delete",u)}return(u,h)=>(n(),l("div",{class:P(["file-preview-container",{"is-vertical":i.value}])},[(n(!0),l(x,null,z(u.files,($,C)=>(n(),l("div",{key:C,class:"file-item"},[r($)?(n(),l("div",Nt,[e("img",{src:c($),class:"image-preview"},null,8,Ft)])):(n(),l("div",Lt,h[0]||(h[0]=[e("span",{class:"icon"},"ðŸ“„",-1)]))),e("div",Ht,p($.name),1),u.needCloseButton?(n(),l("button",{key:2,class:"delete-button",onClick:y=>d(C)},[v(Dt,{class:"delete-icon","fill-color":"white",size:"50%"})],8,Wt)):I("",!0)]))),128))],2))}}),qt=k(Zt,[["__scopeId","data-v-609c527a"]]),Et={key:0,class:"image-wrapper"},Ot=["src"],Rt={key:1,class:"file-icon"},jt={class:"filename"},Kt=w({__name:"MessageFilePreview",props:{files:{},direction:{}},setup(_){Q(async()=>{const r=await t.getFileAttachment("api/attachments/57052311402315776/57135294398332928/57135294440275968");console.log(r)});const t=new O("https://dotflopp.ru/api"),s=_,a=m(()=>s.direction==="vertical");function i(r){return r.mediaType.startsWith("image/")}return(r,c)=>(n(),l("div",{class:P(["file-preview-container",{"is-vertical":a.value}])},[(n(!0),l(x,null,z(r.files,(d,u)=>(n(),l("div",{key:d.id,class:"file-item"},[i(d)?(n(),l("div",Et,[e("img",{src:"https://dotflopp.ru"+d.sourceUrl,class:"image-preview"},null,8,Ot)])):(n(),l("div",Rt,c[0]||(c[0]=[e("span",{class:"icon"},"ðŸ“„",-1)]))),e("div",jt,p(d.id||"Ð¤Ð°Ð¹Ð»"),1)]))),128))],2))}}),Gt=k(Kt,[["__scopeId","data-v-55f9ca19"]]),Jt={class:"message-avatars"},Qt={class:"message-content"},Xt={class:"message-header"},Yt={class:"username"},es={class:"timestamp"},ts={class:"message-body"},ss={class:"message-container"},ns={class:"file-preview"},os={class:"message-input"},as=["onKeydown"],ls=w({__name:"Chat",setup(_){const t=se(),s=H(),a=f([]),i=f(),r=m(()=>s.activeChannelId),c=m(()=>t.getMessages),d=m(()=>t.getUsers),u=f(null),h=f("");f();const $=ne("CGW");function C(S){t.addMessage(S),T()}Q(async()=>{await t.fetchMessages(r.value),T(),$.on("MessageCreated",C)}),oe(()=>{$.off("MessageCreated",C)});async function y(){if(h.value.trim())try{await t.sendMessage(r.value,h.value,a.value),h.value="",a.value=[]}catch(S){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ:",S)}}function T(){u.value&&u.value.scrollTo({top:u.value.scrollHeight,behavior:"smooth"})}function W(){i.value&&i.value.click()}function Z(S){console.log("ÐºÐ»Ð¸ÐºÐ°ÑŽ");const M=S.target;M.files&&M.files.length>0&&(a.value=[...a.value,...Array.from(M.files)])}function q(S){a.value.splice(S,1)}return(S,M)=>{var b;return n(),l(x,null,[e("section",{class:"chat-area",ref_key:"chatContainer",ref:u},[(n(!0),l(x,null,z(c.value,o=>{var g,D;return n(),l("div",{key:o.id,class:"message"},[e("div",Jt,[v(R,{name:d.value[o.userId].nickname,avatar:d.value[o.userId].avatar},null,8,["name","avatar"])]),e("div",Qt,[e("div",Xt,[e("span",Yt,p((g=d.value[o.userId])==null?void 0:g.nickname),1),e("span",es,p(J(ie)(o.createdAt)),1)]),e("div",ts,p(o.text),1),((D=o.attachments)==null?void 0:D.length)>0?(n(),U(Gt,{key:0,files:o.attachments,direction:"vertical","need-close-button":!1},null,8,["files"])):I("",!0)])])}),128))],512),e("div",ss,[e("div",ns,[((b=a.value)==null?void 0:b.length)>0?(n(),U(qt,{key:0,files:a.value,direction:"horizontal","need-close-button":!0,onDelete:q},null,8,["files"])):I("",!0)]),e("footer",os,[e("div",{class:"clipicon-wrapper",onClick:M[0]||(M[0]=o=>W())},[v(Bt,{"fill-color":"white",size:"55%",class:"clipicon"})]),e("input",{type:"file",accept:"image/*, .pdf, .txt",onChange:Z,ref_key:"fileInput",ref:i,hidden:""},null,544),B(e("input",{type:"text",placeholder:"Type a message...","onUpdate:modelValue":M[1]||(M[1]=o=>h.value=o),onKeydown:ae(A(y,["prevent"]),["enter"])},null,40,as),[[N,h.value]]),e("button",{class:"send-button",onClick:y},"Send")])])],64)}}}),is=k(ls,[["__scopeId","data-v-b81eb75f"]]),rs={class:"sidebar-users"},cs={class:"user-list"},us={class:"user-avatar"},ds={class:"user-name"},vs=w({__name:"MembersSidebar",setup(_){const t=H(),s=m(()=>t.getCommunityMembers);return(a,i)=>(n(),l("div",rs,[i[0]||(i[0]=e("div",{class:"top-bar"},null,-1)),e("ul",cs,[(n(!0),l(x,null,z(s.value,r=>(n(),l("li",{key:r.userId,class:"user-item"},[e("div",us,[v(j,{name:r.nickname,avatar:r.avatar,status:r.status},null,8,["name","avatar","status"])]),e("span",ds,p(r.nickname),1)]))),128))])]))}}),_s=k(vs,[["__scopeId","data-v-18c0f87e"]]),ms={class:"app-container"},ps={class:"sidebar"},fs={class:"main-content"},hs={class:"profile"},Cs={class:"main-content"},gs={class:"community-member"},ks=w({__name:"MainPage",setup(_){return(t,s)=>(n(),l("div",ms,[v(tt),e("div",ps,[e("div",fs,[v(wt)]),e("div",hs,[v(Oe)])]),e("main",Cs,[v(Vt),v(is)]),e("div",gs,[v(_s)])]))}});export{ks as default};
